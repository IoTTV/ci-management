# IoTivity Macros

## Wrappers
- wrapper:
    name: build-timeout
    wrappers:
        - timeout:
            type: no-activity
            timeout: 10
            abort: true

## Publishers
- publisher:
    name: archive-artifacts
    publishers:
        - archive:
            artifacts: '{artifacts}'
            latest-only: false
            allow-empty: true
            only-if-successful: false
            fingerprint: true
            default-excludes: true

- publisher:
    name: email-notification
    publishers:
        - email:
            recipients: '{mailto}'
            notify-every-unstable-build: false
            send-to-individuals: true

- publisher:
    name: email-notification-unstable
    publishers:
        - email:
            recipients: '{mailto}'
            notify-every-unstable-build: true
            send-to-individuals: true

- publisher:
    name: valgrind-report
    publishers:
        - valgrind:
            pattern: '*.memcheck'
            thresholds:
                failed:
                    invalid-read-write: 0
                    definitely-lost: 20
                    total: 50
            fail-no-reports: false
            fail-invalid-reports: false
            publish-if-aborted: true
            publish-if-failed: true

- publisher:
    name: xunit-report
    publishers:
        - xunit:
            thresholdmode: '1'
            test-time-margin: 3000
            types:
                - gtest:
                    pattern: 'out/**/test_out/*.xml'
                    skip-if-no-test-files: true
                    fail-if-not-new: false
                    deleteoutput: true
                    stoponerror: false
